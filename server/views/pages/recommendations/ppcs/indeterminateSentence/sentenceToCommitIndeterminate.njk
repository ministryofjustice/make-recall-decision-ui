{% extends "../../../../partials/layout.njk" %}

{% set pageTitle = makePageTitle({ pageHeading: pageTitles[page.id], hasErrors: errors }) %}
{% set editText = 'Edit' %}
{% set editIdPrefix = 'edit-' %}
{% set sentenceSummary = pageData.sentenceSummary %}
{% set editLinks = pageData.editLinks %}

{% block beforeContent %}
    {{ backLink() }}
{% endblock %}

{% block content %}
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds-from-desktop">
            {{ heading(pageHeadings[page.id]) }}
            {{ bodyParagraph("This is the sentence you've selected from PPUD. You can edit anything that's wrong. This will update what's in PPUD.") }}

            {{ heading("Your recall booking", 2, "m") }}

            {% set offenceAndComment %}
                {{ bodyParagraph(hyphenForBlank(sentenceSummary.offenceDescription)) }}
                {% if sentenceSummary.offenceDescriptionComment %}
                    {{ bodyParagraph(sentenceSummary.offenceDescriptionComment, "preserve-whitespace") }}
                {% endif %}
            {% endset %}
            {{ summaryList({
                id: "indeterminate-sentence-to-commit",
                rows: [
                    { key: "Custody type", value: hyphenForBlank(sentenceSummary.custodyType) },
                    { key: "Offence",  value: offenceAndComment, actions: [{ id: editIdPrefix+'offenceDescription', text: editText, href: editLinks.offenceDescription, visuallyHidden: 'offence' }] },
                    { key: "Release date", value: hyphenForBlank(formatDateTimeFromIsoString({ isoDate: sentenceSummary.releaseDate })), actions: [{ id: editIdPrefix+'releasedate', text: editText, href: editLinks.releaseDate, visuallyHidden: 'release date' }] },
                    { key: "Sentencing court", value: hyphenForBlank(sentenceSummary.sentencingCourt), actions: [{ id: editIdPrefix+'sentencingcourt', text: editText, href: editLinks.sentencingCourt, visuallyHidden: 'sentencing court' }] },
                    { key: "Date of sentence", value: hyphenForBlank(formatDateTimeFromIsoString({ isoDate: sentenceSummary.dateOfSentence })), actions: [{ id: editIdPrefix+'dateofsentence', text: editText, href: editLinks.dateOfSentence, visuallyHidden: 'date of sentence' }] },
                    { key: "Tariff expiry date", value: hyphenForBlank(formatDateTimeFromIsoString({ isoDate: sentenceSummary.tariffExpiryDate })) },
                    { key: "Full punishment", value: hyphenForBlank(sentenceSummary.fullPunishment) }
                ]
            }) }}

            <form novalidate method="post">
                <input type="hidden" name="_csrf" value="{{ csrfToken }}" />
                {{ formSubmitButton() }}
            </form>
        </div>
    </div>
{% endblock %}

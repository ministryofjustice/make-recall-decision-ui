{% extends "../../partials/layout.njk" %}

{% set pageTitle = makePageTitle({ pageHeading: pageTitles[page.id], hasErrors: errors }) %}

{% block beforeContent %}
    {{ backLink() }}
{% endblock %}

{% block content %}
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds-from-desktop">

            {% if errors %}
                <div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" data-module="govuk-error-summary" data-qa="error-list">
                    <h2 class="govuk-error-summary__title" id="error-summary-title">
                        There is a problem
                    </h2>
                    <div class="govuk-error-summary__body">
                        <ul class="govuk-list govuk-error-summary__list">
                            {% for error in errors.list %}
                            <li data-analytics-event='formValidationError' data-analytics-event-category='{{ error.errorId }}' data-analytics-event-label='{{ error.name }}'>
                               {{ error.html }}
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            {% endif %}

            <h1 class='govuk-heading-l'>Create new PPUD record for {{ recommendation.personOnProbation.fullName }}</h1>

            <p class='govuk-body'>You are creating a new PPUD record for {{ recommendation.personOnProbation.fullName }}. This will include all the information you've just checked.</p>

            <p class='govuk-body'>It will  take a few minutes to process.</p>

            <form novalidate method="post">
                <input type="hidden" name="_csrf" value="{{ csrfToken }}" />

                {{ formSubmitButton() }}
            </form>
        </div>
    </div>
{% endblock %}
